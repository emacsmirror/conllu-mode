# -*- mode:org -*-
#+TITLE: emacs mode for CoNLL-U files

[[https://melpa.org/#/conllu-mode][file:https://melpa.org/packages/conllu-mode-badge.svg]]

this mode provides simple utilities for editing and viewing CoNLL-U
files.

you can watch the following demo for an idea of what it can do:

[[https://asciinema.org/a/vO51IVyAeKBF1uSB1ogzCXcCb][file:static/demo.png]]

* commands
| command name                  | key binding | description                                                                                                                   |
|-------------------------------+-------------+-------------------------------------------------------------------------------------------------------------------------------|
| conllu-align-fields           | =C-c C-a=   | align columns (inserts no real whitespace) in the selected region (defaults to the current sentence)                          |
| conllu-unalign-fields         | =C-c C-u=   | unalign columns in the selected region (defaults to current sentence)                                                         |
| conllu-clear-field            | =C-c C-c=   | clear field at point, placing =_= as its value                                                                                |
| conllu-edit-field             | =C-c C-e=   | edit field at point interactively                                                                                             |
| conllu-merge-sentences        | -           | merge the sentence at point and the following one, offsetting the indices of the latter one. Comments must be merge manually. |
| conllu-insert-token-line      | =C-c C-l=   | insert empty token line at point or at next line (can be called with prefix argument for more lines)                          |
| conllu-forward-sentence       | =M-e=       | jump to the next sentence                                                                                                     |
| conllu-next-sentence          | =M-n=       | unalign current sentence, jump to the next one, and align it                                                                  |
| conllu-previous-sentence      | =M-p=       | unalign current sentence, jump the previous one, and align it                                                                 |
| conllu-move-to-field-number-N | =C-c N=     | move point to field number N in a token line (=C-c 0= moves to field number 10, i.e. MISC)                                    |
| conllu-move-to-head           | =C-c C-h=   | move point to head token of present token                                                                                     |

* features
- highlighting comments, and =upostag= and =deprel= fields
- truncate lines by default
- show newline and tab characters using =whitespace.el=

* missing
  if you'd like to have a feature implemented, you should file at
  ticket at the [[https://github.com/odanoburu/conllu-mode/issues][issue tracker]]. here is our wishlist of what we would
  like to implement in the future:

- hiding columns
- call a parser to create CoNLL-U output from a sentence
- call external visualization tool
- validating CoNLL-U file (flycheck?)
# - in a sentence, jump to token that has a given index
# - in sentence, jump to next token that has a given =upostag=
# - in sentence, jump to next token that has a given =deprel=
# are the above three really interesting? emacs can do better with
# incremental search and other functionality
- ...
  
* installation
  in your =.emacs=:
  #+BEGIN_SRC elisp
    (autoload 'conllu-mode "conllu-mode" "Major mode for editing CoNLL-U files." t)
    (add-to-list 'auto-mode-alist '("\\.conllu\\'" . conllu-mode))
  #+END_SRC
  you may install the latest versions from MELPA, or proceed to a
  manual installation:
** MELPA
   [[https://melpa.org/#/getting-started][set MELPA up]] if you haven't already and then do:
   : M-x package-install RET conllu-mode
** manual installation
   first you must install the dependencies: assuming you have a
   standard Emacs distribution, the only package needed which is
   probably not already installed is [[https://github.com/magnars/s.el][s]].

   after having installed =s=, clone the repo, as in:
   #+BEGIN_SRC sh
     $ cd ~/some/path/
     $ git clone https://github.com/odanoburu/conllu-mode
   #+END_SRC
   make sure the repository in is emacs load path with
   : (add-to-list 'load-path "~/some/path/conllu-mode")
   in your =.emacs=.

* contributions
  yes, please! even comments from experienced elispers are
  welcome. just send an email or open an issue -- if you'd like a
  suggestion on what to work on, take a look at the open issues or at
  the missing features (above).
